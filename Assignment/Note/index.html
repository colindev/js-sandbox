<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>JS Note</title>
  </head>
  <body>

    <div id="resultBox"></div>

    <script>


      var _div = document.createElement("div");
      var resultBox = document.getElementById("resultBox");

      // innerHTML function
      function buildDom(html) {
        _div.innerHTML = html;
        return _div.removeChild(_div.firstChild);
      }


      var ballsNum = 10;
      var drawNum = 3;
      var balls = [];
      var ballNodes = {};
      var drawBalls = [];


      // obj
      function Balls() {
        // var collect = {};

        // add ball
        this.add = function(num){
          for (var i = 1; i <= num; i++) {
            var id = "ball-"+i;
            var ball = buildDom("<div id='" + id + "'>" + (i<10?"0"+i:i) + "</div>");
            ballNodes[id] = ball;
            resultBox.appendChild(ball);
            balls.push(id);
          }
        };

        // draw ball
        this.draw = function(num){
          // get a random number as index
          var ballIndex = Math.floor(Math.random() * balls.length);

          // remove drew balls from [balls]
          var id = balls.splice(ballIndex, 1)[0];

          // add drew balls into [drawBalls]
          drawBalls.push(id);

          console.log(id, ballIndex);

          // HTML DOM
          var drawBall = ballNodes[id];

          // add class to drew balls
          drawBall.classList.add("is-chose");
        };

        // del ball
        this.del = function(num){
          // delete(collect[num]);

        };

        // show
        // this.show = function(){
        //   for (var n in collect) {
        //     console.log(n);
        //   }
        // };
      }

      var b = new Balls();
      (function(num){
        b.add(num);
      })(ballsNum)

      console.log(ballNodes);
      b.draw(drawNum);
      console.log(balls);
      console.log(ballNodes);

    </script>

  </body>
</html>
